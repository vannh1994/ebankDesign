<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Thay đổi thông tin thẻ | VRB</title>
    <meta name="viewport" content="width=375, initial-scale=1.0" />
    <meta content="VRB" name="description" />
    <meta content="VRB" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />

    <!-- Bootstrap Css -->
    <link
      href="assets/css/bootstrap.min.css"
      id="bootstrap-style"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Icons Css -->
    <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />

    <!-- App Css-->
    <link
      href="assets/css/app.css"
      id="app-style"
      rel="stylesheet"
      type="text/css"
    />
  </head>

  <body
    class="child-page page-background account-page change-card-information-page"
  >
    <div id="loading"></div>

    <div id="app" class="page-content">
      <div class="list-small-icons">
        <div class="item">
          <img src="assets/icons/dollar-circle.svg" alt="dollar-circle" />
        </div>
        <div class="item">
          <img src="assets/icons/map.svg" alt="map" />
        </div>
        <div class="item">
          <img src="assets/icons/message-question.svg" alt="message-question" />
        </div>
      </div>

      <header-component></header-component>

      <menu-component></menu-component>

      <div class="page-background">
        <img src="assets/images/cliparts/bg-right.svg" alt="bg-right" />
      </div>

      <div class="container home-container">
        <div class="breadcrumbs">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a href="home.html">
                  <i class="isax isax-home-2"></i>
                  Trang chủ
                </a>
              </li>
              <li class="breadcrumb-item">
                <a href="#"> Dịch vụ thẻ </a>
              </li>
              <li class="breadcrumb-item active" aria-current="page">
                Thay đổi thông tin thẻ
              </li>
            </ol>
          </nav>
        </div>

        <div class="page-title">
          <a class="back" href="home.html">
            <i class="isax isax-arrow-left-2"></i>
          </a>
          <h2>Thay đổi thông tin thẻ</h2>
        </div>

        <div class="transaction-step">
          <div class="step-item active">
            <div class="step">1</div>
            <div class="text">Khởi tạo</div>
          </div>
          <div class="progress"></div>
          <div class="step-item">
            <div class="step">2</div>
            <div class="text">Xác nhận</div>
          </div>
          <div class="progress"></div>
          <div class="step-item">
            <div class="step">3</div>
            <div class="text">Kết quả</div>
          </div>
        </div>

        <div class="card p-4 flex-fill content-min-height card-scroll">
          <div class="container-flex d-grid gap-3 card-content">
            <div class="page-card-title">Thông tin thẻ</div>

            <selector-component
              placeholder="Loại sản phẩm"
              v-model="product"
              :options="productType"
              :required="true"
            >
              <template #selected="{option}">
                <b>{{ option.name }}</b>
              </template>
              <template #option="{option}">
                <b class="d-block py-2"> {{ option.name }} </b>
              </template>
            </selector-component>

            <transition>
              <div v-if="product?.id == 'domestic-debit-card'">
                <selector-component
                  placeholder="Số thẻ"
                  v-model="card"
                  :options="cardOptions"
                  :required="true"
                >
                  <template #selected="{option}">
                    <b>{{ option.number }}</b>
                  </template>
                  <template #option="{option}">
                    <b class="d-block py-2"> {{ option.number }} </b>
                  </template>
                </selector-component>

                <div class="mt-3">
                  <selector-component
                    placeholder="Thay đổi tài khoản liên kết thẻ"
                    v-model="cardChange"
                    :options="cardChangeOptions"
                    :required="true"
                  >
                    <template #selected="{option}">
                      <b>{{ option.number }}</b>
                    </template>
                    <template #option="{option}">
                      <b class="d-block py-2"> {{ option.number }} </b>
                    </template>
                  </selector-component>
                </div>

                <div class="mt-3 accept-block">
                  <div class="d-flex">
                    <input
                      v-model="accept"
                      class="form-check-input"
                      type="checkbox"
                    />
                    <span class="form-check-label">
                      Tôi đồng ý cho Ngân hàng được tạm khóa và trích tiền từ
                      bất kỳ tài khoản nào của tôi mở tại Ngân hàng để thanh
                      toán các khoản phí liên quan
                    </span>
                  </div>
                </div>

                <a href="#" class="tariff-detail">Chi tiết biểu phí của VRB</a>
              </div>
            </transition>

            <transition>
              <div v-if="product?.id == 'international-debit-card'">
                <selector-component
                  placeholder="Số thẻ"
                  v-model="card"
                  :options="cardOptions"
                  :required="true"
                >
                  <template #selected="{option}">
                    <b>{{ option.number }}</b>
                  </template>
                  <template #option="{option}">
                    <b class="d-block py-2"> {{ option.number }} </b>
                  </template>
                </selector-component>

                <div class="mt-3">
                  <selector-component
                    placeholder="Đăng ký/Huỷ thanh toán online"
                    v-model="registerCancel"
                    :options="registerCancelOptions"
                    :required="true"
                  >
                    <template #selected="{option}">
                      <b>{{ option.number }}</b>
                    </template>
                    <template #option="{option}">
                      <b class="d-block py-2"> {{ option.number }} </b>
                    </template>
                  </selector-component>
                </div>

                <div class="mt-3 accept-block">
                  <div class="d-flex">
                    <input
                      v-model="accept"
                      class="form-check-input"
                      type="checkbox"
                    />
                    <span class="form-check-label">
                      Tôi đồng ý cho Ngân hàng được tạm khóa và trích tiền từ
                      bất kỳ tài khoản nào của tôi mở tại Ngân hàng để thanh
                      toán các khoản phí liên quan
                    </span>
                  </div>
                </div>

                <a href="#" class="tariff-detail">Chi tiết biểu phí của VRB</a>
              </div>
            </transition>

            <transition>
              <div v-if="product?.id == 'international-credit-card'">
                <selector-component
                  placeholder="Số thẻ"
                  v-model="card"
                  :options="cardOptions"
                  :required="true"
                >
                  <template #selected="{option}">
                    <b>{{ option.number }}</b>
                  </template>
                  <template #option="{option}">
                    <b class="d-block py-2"> {{ option.number }} </b>
                  </template>
                </selector-component>

                <div class="d-flex mb-3 mt-3">
                  <input
                    v-model="automaticDebtDeduction"
                    class="form-check-input"
                    type="checkbox"
                  />
                  <span class="form-check-label">
                    Trích nợ tự động (Đối với TK ngoại tệ, tôi cam kết chấp nhận
                    tỷ giá của VRB áp dụng khi tiến hành thu nợ)
                  </span>
                </div>

                <template v-if="automaticDebtDeduction">
                  <selector-component
                    class="selector-with-border"
                    v-model="automaticDebtDeductionValue"
                    :options="automaticDebtDeductionOptions"
                  >
                    <template #selected="{option}">
                      <b>{{ option.label }}</b>
                    </template>
                    <template #option="{option}">
                      <b class="d-block py-2"> {{ option.label }} </b>
                    </template>
                  </selector-component>
                  <template
                    v-if="automaticDebtDeductionValue && (automaticDebtDeductionValue.id == 'change-debit' || automaticDebtDeductionValue.id == 'register-debit')"
                  >
                    <selector-component
                      class="mb-3"
                      placeholder="Số tài khoản trích nợ"
                      v-model="cardDebt"
                      :options="cardChangeOptions"
                      :required="true"
                    >
                      <template #selected="{option}">
                        <b>{{ option.number }}</b>
                      </template>
                      <template #option="{option}">
                        <b class="d-block py-2"> {{ option.number }} </b>
                      </template>
                    </selector-component>
                  </template>
                  <template
                    v-if="automaticDebtDeductionValue && automaticDebtDeductionValue.id == 'stop-debit'"
                  >
                    <div class="stop-debit">
                      Số tài khoản trích nợ: <b>0123456789888</b>
                    </div>
                  </template>
                </template>

                <div class="d-flex mb-3 align-items-center">
                  <input
                    v-model="activeOnlinePayment"
                    class="form-check-input"
                    type="checkbox"
                  />
                  <span class="form-check-label">
                    Mở /Khóa thanh toán online
                  </span>
                </div>

                <template v-if="activeOnlinePayment">
                  <selector-component
                    class="selector-with-border"
                    v-model="activeOnlinePaymentValue"
                    :options="activeOnlinePaymentOptions"
                  >
                    <template #selected="{option}">
                      <b>{{ option.label }}</b>
                    </template>
                    <template #option="{option}">
                      <b class="d-block py-2"> {{ option.label }} </b>
                    </template>
                  </selector-component>
                </template>

                <div class="d-flex mb-3 align-items-center">
                  <input
                    v-model="changePhoneNumber"
                    class="form-check-input"
                    type="checkbox"
                  />
                  <span class="form-check-label">
                    Thay đổi SĐT nhận thông báo GD
                  </span>
                </div>

                <template v-if="changePhoneNumber">
                  <div class="input-group input-with-border">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Nhập số điện thoại"
                    />
                  </div>
                </template>

                <div class="mt-3 accept-block">
                  <div class="d-flex">
                    <input
                      v-model="accept"
                      class="form-check-input"
                      type="checkbox"
                    />
                    <span class="form-check-label">
                      Tôi đồng ý cho Ngân hàng được tạm khóa và trích tiền từ
                      bất kỳ tài khoản nào của tôi mở tại Ngân hàng để thanh
                      toán các khoản phí liên quan
                    </span>
                  </div>
                </div>

                <a href="#" class="tariff-detail">Chi tiết biểu phí của VRB</a>
              </div>
            </transition>

            <div class="d-flex justify-content-center action-group">
              <button
                class="btn btn-primary btn-back"
                onclick="location.href = 'home.html';"
              >
                Quay lại
              </button>

              <button
                type="button"
                class="btn btn-third"
                :disabled="!(product && product.id && accept)"
                @click="submit"
              >
                Tiếp tục
              </button>
            </div>
          </div>
        </div>

        <div class="footer footer-responsive-height">
          <div class="footer-container">
            <div class="footer-menu d-lg-flex flex-column gap-1">
              <ul>
                <li><a href="#">Hướng dẫn giao dịch an toàn</a></li>
                <li><a href="#">Hướng dẫn sử dụng</a></li>
                <li><a href="#">Hướng dẫn kích hoạt soft token</a></li>
              </ul>
              <div class="copyright">
                <span class="copyright-name">
                  ©2023 Ngân hàng Liên doanh Việt - Nga
                </span>
                <span class="divider">|</span>
                <span class="copyright-web">www.vrbank.com.vn</span>
              </div>
            </div>
            <div class="sns">
              <a href="#">
                <img src="assets/icons/google-play.svg" alt="google-play" />
              </a>
              <a href="#">
                <img src="assets/icons/fb.svg" alt="fb" />
              </a>
              <a href="#">
                <img src="assets/icons/appstore-fill.svg" alt="appstore" />
              </a>
              <a class="hotline">
                <img src="assets/icons/call.svg" alt="hotline" />
                <div class="d-flex flex-column">
                  <span class="title"> Hotline </span>
                  <span class="phone"> 18006656 </span>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        <div class="footer-container">
          <div class="footer-menu d-lg-flex flex-column gap-1">
            <ul>
              <li><a href="#">Hướng dẫn giao dịch an toàn</a></li>
              <li><a href="#">Hướng dẫn sử dụng</a></li>
              <li><a href="#">Hướng dẫn kích hoạt soft token</a></li>
            </ul>
            <div class="copyright">
              <span class="copyright-name">
                ©2023 Ngân hàng Liên doanh Việt - Nga
              </span>
              <span class="divider">|</span>
              <span class="copyright-web">www.vrbank.com.vn</span>
            </div>
          </div>
          <div class="sns">
            <a href="#">
              <img src="assets/icons/google-play.svg" alt="google-play" />
            </a>
            <a href="#">
              <img src="assets/icons/fb.svg" alt="fb" />
            </a>
            <a href="#">
              <img src="assets/icons/appstore-fill.svg" alt="appstore" />
            </a>
            <a class="hotline">
              <img src="assets/icons/call.svg" alt="hotline" />
              <div class="d-flex flex-column">
                <span class="title"> Hotline </span>
                <span class="phone"> 18006656 </span>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- App js -->
    <script src="assets/js/app.js"></script>

    <!-- BS -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/js/vue@3.3.4_dist_vue.global.js"></script>
    <script src="./assets/js/vueuse_shared.min.js"></script>
    <script src="./assets//js/vueuse_core.js"></script>
    <script src="./components/header-component.js"></script>
    <script src="./components/menu.js"></script>
    <script src="./components/selector.js"></script>

    <script>
      hideLoading();
      const { createApp, ref, computed, onMounted, onBeforeMount } = Vue;
      const { useDebounceFn } = VueUse;

      createApp({
        components: {
          headerComponent,
          menuComponent,
          selectorComponent,
        },

        setup() {
          const sourceAccount = ref(null);
          const connectionAccount = ref(null);
          const accountList = [
            {
              number: "05000210000471",
              currency: "VND",
            },
            {
              number: "05000210000123",
              currency: "VND",
            },
          ];

          const product = ref(null);
          const productType = [
            {
              id: "domestic-debit-card",
              name: "Thẻ ghi nợ nội địa",
            },
            {
              id: "international-debit-card",
              name: "Thẻ ghi nợ quốc tế",
            },
            {
              id: "international-credit-card",
              name: "Thẻ tín dụng quốc tế",
            },
          ];

          const card = ref(null);
          const cardOptions = [
            {
              id: "1",
              number: "9704********1234",
            },
            {
              id: "2",
              number: "9704********5678",
            },
            {
              id: "3",
              number: "9704********6789",
            },
          ];

          const cardChange = ref(null);
          const cardChangeOptions = [
            {
              id: "1",
              number: "102345678988",
            },
            {
              id: "2",
              number: "102312341212",
            },
            {
              id: "3",
              number: "102343455455",
            },
          ];

          const registerCancel = ref(null);
          const registerCancelOptions = [
            {
              id: "1",
              number: "Đăng ký thanh toán online",
            },
            {
              id: "2",
              number: "Huỷ thanh toán online",
            },
          ];

          const cardDebt = ref(null);

          const automaticDebtDeductionValue = ref(null);
          const automaticDebtDeductionOptions = [
            {
              id: "change-debit",
              label: "Thay đổi số tài khoản trích nợ",
            },
            {
              id: "stop-debit",
              label: "Ngừng trích nợ tự động",
            },
            {
              id: "register-debit",
              label: "Đăng ký trích nợ toàn bộ dư nợ",
            },
          ];

          const activeOnlinePaymentValue = ref(null);
          const activeOnlinePaymentOptions = [
            {
              id: "1",
              label: "Mở",
            },
            {
              id: "2",
              label: "Khoá",
            },
          ];

          const accept = ref(false);

          function formatMoney(money) {
            return new Intl.NumberFormat().format(money || 0) + " VND";
          }

          const automaticDebtDeduction = ref(null);
          const activeOnlinePayment = ref(null);
          const changePhoneNumber = ref(null);

          function submit() {
            try {
              switch (product.value.id) {
                case "domestic-debit-card":
                  window.location.href =
                    "change-card-information-2.html?type=domestic-debit-card&number=" +
                    card.value.number;
                  break;

                case "international-debit-card":
                  window.location.href =
                    "change-card-information-2.html?type=international-debit-card&number=" +
                    card.value.number;
                  break;

                case "international-credit-card":
                  window.location.href =
                    "change-card-information-2.html?type=international-credit-card&number=" +
                    card.value.number;
                  break;
              }
            } catch {}
          }

          return {
            sourceAccount,
            accountList,
            connectionAccount,
            product,
            productType,
            cardOptions,
            card,
            cardChangeOptions,
            cardChange,
            accept,
            registerCancelOptions,
            registerCancel,
            automaticDebtDeduction,
            activeOnlinePayment,
            changePhoneNumber,
            automaticDebtDeductionOptions,
            automaticDebtDeductionValue,
            cardDebt,
            activeOnlinePaymentValue,
            activeOnlinePaymentOptions,
            formatMoney,
            submit,
          };
        },
      }).mount("#app");
    </script>
  </body>
</html>
